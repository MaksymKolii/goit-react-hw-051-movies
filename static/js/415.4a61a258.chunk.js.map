{"version":3,"file":"static/js/415.4a61a258.chunk.js","mappings":"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","sources":["components/CastList/CastList.styled.js","components/CastList/CastList.jsx","Pages/Cast.jsx","Services/apiFetcher.js","helpers/transformCastData.js","helpers/transformRewievsData.js","helpers/transformMoviesDataArray.js","helpers/makeSlug.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const CastListUL = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: stretch;\n  justify-content: center;\n\n  margin: -10px;\n`;\n\nexport const CastListLI = styled.li`\n  display: flex;\n  flex-direction: column;\n  justify-content: baseline;\n  max-width: 150px;\n  background-color: #304040;\n\n  margin: 10px;\n  flex-grow: 1;\n  transition: transform 250ms linear;\n  &:hover,\n  &:focus {\n    transform: scale(1.1);\n  }\n`;\n\nexport const CastListImg = styled.img`\n  display: block;\n  max-width: 100%;\n  height: 100%;\n  margin-bottom: 3px;\n`;\n\nexport const CastListP = styled.p`\n  display: block;\n  text-align: center;\n  font-size: 16px;\n  font-weight: 500;\n  margin-top: 5px;\n  color: white;\n`;\n\nexport const CastListSpan = styled.span`\n  display: block;\n  text-align: center;\n  font-size: 12px;\n  font-weight: 500;\n  margin-top: 5px;\n  color: white;\n`;\n","import PropTypes from 'prop-types';\nimport {\n  CastListUL,\n  CastListImg,\n  CastListLI,\n  CastListP,\n  CastListSpan,\n} from 'components/CastList/CastList.styled';\n\nexport const CastList = ({ cast }) => {\n  const genderSwitcher = data => {\n    if (data === 2) {\n      return 'Actor';\n    }\n    if (data === 1) {\n      return 'Actress';\n    }\n    if (data === 0) {\n      return 'Individual';\n    }\n  };\n  return (\n    <CastListUL>\n      {cast &&\n        cast.map(({ id, name, gender, profile }) => (\n          <CastListLI key={id}>\n            <CastListImg\n              src={\n                profile\n                  ? 'https://image.tmdb.org/t/p/w500' + profile\n                  : 'https://louisville.edu/history/images/noimage.jpg/image'\n              }\n              alt={name}\n              width=\"150\"\n              height=\"100%\"\n            ></CastListImg>\n            <CastListP>{genderSwitcher(gender)}</CastListP>\n            <CastListSpan>{name}</CastListSpan>\n          </CastListLI>\n        ))}\n    </CastListUL>\n  );\n};\n\nCastList.propTypes = {\n  cast: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n      profile: PropTypes.string,\n      gender: PropTypes.number,\n    })\n  ).isRequired,\n};\n","import { useParams } from 'react-router-dom';\nimport { useState, useEffect, useRef } from 'react';\nimport Api from '../Services/apiFetcher';\nimport { CastList } from 'components/CastList/CastList';\nimport { Loader } from '../components/Loader/Loader';\nimport { getSlug } from 'helpers';\n\nconst Cast = () => {\n  const [cast, setCast] = useState([]);\n  const isFirstRender = useRef(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const { slug } = useParams();\n  const movieId = getSlug(slug);\n\n  useEffect(() => {\n    async function getActors() {\n      setIsLoading(true);\n      try {\n        const res = await Api.fetchActors(movieId);\n\n        setCast(res);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    if (isFirstRender.current) {\n      getActors();\n      isFirstRender.current = false;\n      return;\n    }\n  }, [movieId]);\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      {/* {cast && <CastList cast={cast} />} */}\n      {cast.length === 0 && !isLoading ? (\n        <p> We don't have any actors</p>\n      ) : (\n        <CastList cast={cast} />\n      )}\n    </>\n  );\n};\n\nexport default Cast;\n","import axios from 'axios';\nimport {\n  transformCastData,\n  transformMoviesDataArray,\n  transformRewievstData,\n} from 'helpers';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst searchParams = new URLSearchParams({\n  api_key: 'cf140a587ec927271eacbad378897741',\n  language: 'en-US',\n});\n\nasync function fetchMoviesByName(keyWord, page = 1) {\n  const search = `search/movie?${searchParams}&query=${keyWord}&page=${page}`;\n\n  const { data } = await axios.get(search);\n  console.log(data);\n\n  return data;\n}\n\nasync function fetchMostPopular() {\n  const search = `trending/movie/day?${searchParams}`;\n\n  const {\n    data: { results },\n  } = await axios(search);\n\n  // const popular = transformMoviesDataArray(results);\n  return transformMoviesDataArray(results);\n}\n\nasync function fetchMovieById(movieId) {\n  const search = `/movie/${movieId}?${searchParams}`;\n\n  const { data } = await axios.get(search, {\n    params: {\n      append_to_response: 'videos',\n    },\n  });\n\n  return data;\n}\n\nasync function fetchActors(movieId) {\n  const search = `/movie/${movieId}/credits?${searchParams}`;\n\n  const {\n    data: { cast },\n  } = await axios(search);\n  const actors = transformCastData(cast);\n  return actors;\n}\n\nasync function fetchReviews(movieId) {\n  const search = `/movie/${movieId}/reviews?${searchParams}`;\n\n  const {\n    data: { results },\n  } = await axios.get(search);\n  const rewievs = transformRewievstData(results);\n  return rewievs;\n}\n\nconst allAPIs = {\n  fetchMoviesByName,\n  fetchMostPopular,\n  fetchMovieById,\n  fetchActors,\n  fetchReviews,\n};\nexport default allAPIs;\n","export const transformCastData = data => {\n  return data.map(({ cast_id, name, gender, profile_path }) => ({\n    id: cast_id,\n    name,\n    gender,\n    profile: profile_path,\n  }));\n};\n","export const transformRewievstData = data => {\n  return data.map(({ author, content, updated_at, id }) => ({\n    id,\n    author,\n    updated: updated_at,\n    content,\n  }));\n};\n","export const transformMoviesDataArray = data => {\n  return data.map(({ release_date, title, poster_path, id }) => ({\n    id,\n    title,\n    release: new Date(release_date).getFullYear(),\n    poster: poster_path,\n  }));\n};\n","import slugify from 'slugify';\nexport const setSlug = string => slugify(string, { lower: true });\nexport const getSlug = string => string.match(/[0-9a-zA-Z]+$/)[0];\n"],"names":["CastListUL","styled","CastListLI","CastListImg","CastListP","CastListSpan","CastList","cast","map","data","id","name","gender","profile","src","alt","width","height","useState","setCast","isFirstRender","useRef","isLoading","setIsLoading","slug","useParams","movieId","getSlug","useEffect","Api","res","console","log","current","getActors","Loader","length","axios","searchParams","URLSearchParams","api_key","language","fetchMoviesByName","keyWord","page","search","fetchMostPopular","results","transformMoviesDataArray","fetchMovieById","params","append_to_response","fetchActors","actors","transformCastData","fetchReviews","rewievs","transformRewievstData","allAPIs","cast_id","profile_path","author","content","updated_at","updated","release_date","title","poster_path","release","Date","getFullYear","poster","setSlug","string","slugify","lower","match"],"sourceRoot":""}