{"version":3,"file":"static/js/397.f6ae9326.chunk.js","mappings":"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","sources":["components/Review/Review.styled.js","components/Review/ReviewList.jsx","Pages/Reviews.jsx","Services/apiFetcher.js","helpers/transformCastData.js","helpers/transformRewievsData.js","helpers/transformMoviesDataArray.js","helpers/makeSlug.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const ReviewsUl = styled.ul`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  border-radius: 10px;\n  background-color: #5b7075;\n  padding: 10px;\n  border-radius: 6px;\n  box-shadow: 0 0 5px 1px grey;\n`;\n\nexport const ReviewsLi = styled.li`\n  border-radius: 6px;\n  padding: 35px;\n  margin-left: 10px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  border-radius: 10px;\n  background-color: #c9d1c8;\n  /* background-color: white; */\n  box-shadow: 0 0 5px 1px black;\n`;\n\nexport const ReviewsH4 = styled.h4`\n  font-weight: bold;\n  color: tomato;\n`;\n\nexport const ReviewsP = styled.p`\n  display: flex;\n  flex-direction: column;\n  color: black;\n`;\n\nexport const ReviewsSpan = styled.span`\n  font-weight: bold;\n  color: black;\n`;\n\nexport const ReviewsH5 = styled.h5`\n  color: tomato;\n`;\n","import PropTypes from 'prop-types';\nimport {\n  ReviewsUl,\n  ReviewsLi,\n  ReviewsH4,\n  ReviewsSpan,\n  ReviewsP,\n  ReviewsH5,\n} from './Review.styled';\n\nexport const ReviewList = ({ reviews }) => {\n  const timeReduser = data => {\n    const year = data.slice(0, 10);\n    const time = data.slice(11, 19);\n    // return year + ' ' + time;\n    return data.slice(0, 10) + data.slice(11, 19)\n  };\n  return (\n    <ReviewsUl>\n      {reviews &&\n        reviews.map(({ author, content, updated, id }) => {\n          return (\n            <ReviewsLi key={id}>\n              <ReviewsH4>\n                Author: <ReviewsSpan>{author}</ReviewsSpan>\n              </ReviewsH4>\n              <ReviewsP>{content}</ReviewsP>\n              <ReviewsH5>\n                Last update: <ReviewsSpan>{timeReduser(updated)}</ReviewsSpan>\n              </ReviewsH5>\n            </ReviewsLi>\n          );\n        })}\n    </ReviewsUl>\n  );\n};\n\nReviewList.propTypes = {\n  reviews: PropTypes.array.isRequired,\n};\n","import { useParams } from 'react-router-dom';\nimport { useState, useEffect, useRef } from 'react';\nimport Api from '../Services/apiFetcher';\nimport { ReviewList } from 'components/Review/ReviewList';\nimport { Loader } from 'components/Loader/Loader';\nimport { getSlug } from 'helpers';\n\nconst Reviews = () => {\n  const [reviews, setReview] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const isFirstRender = useRef(true);\n  const { slug } = useParams();\n  const movieId = getSlug(slug);\n\n  useEffect(() => {\n    const getReviews = async () => {\n      setIsLoading(true);\n      try {\n        Api.fetchReviews(movieId).then(setReview);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    if (isFirstRender.current) {\n      getReviews();\n      isFirstRender.current = false;\n      return;\n    }\n  }, [movieId]);\n\n  console.log(reviews.length);\n\n  return (\n    <>\n      {isLoading && <Loader />}\n\n      {reviews.length === 0 && !isLoading ? (\n        <p> We don't have any reviews</p>\n      ) : (\n        <ReviewList reviews={reviews} />\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\nimport {\n  transformCastData,\n  transformMoviesDataArray,\n  transformRewievstData,\n} from 'helpers';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst searchParams = new URLSearchParams({\n  api_key: 'cf140a587ec927271eacbad378897741',\n  language: 'en-US',\n});\n\nasync function fetchMoviesByName(keyWord, page = 1) {\n  const search = `search/movie?${searchParams}&query=${keyWord}&page=${page}`;\n\n  const { data } = await axios.get(search);\n  console.log(data);\n\n  return data;\n}\n\nasync function fetchMostPopular() {\n  const search = `trending/movie/day?${searchParams}`;\n\n  const {\n    data: { results },\n  } = await axios(search);\n\n  // const popular = transformMoviesDataArray(results);\n  return transformMoviesDataArray(results);\n}\n\nasync function fetchMovieById(movieId) {\n  const search = `/movie/${movieId}?${searchParams}`;\n\n  const { data } = await axios.get(search, {\n    params: {\n      append_to_response: 'videos',\n    },\n  });\n\n  return data;\n}\n\nasync function fetchActors(movieId) {\n  const search = `/movie/${movieId}/credits?${searchParams}`;\n\n  const {\n    data: { cast },\n  } = await axios(search);\n  const actors = transformCastData(cast);\n  return actors;\n}\n\nasync function fetchReviews(movieId) {\n  const search = `/movie/${movieId}/reviews?${searchParams}`;\n\n  const {\n    data: { results },\n  } = await axios.get(search);\n  const rewievs = transformRewievstData(results);\n  return rewievs;\n}\n\nconst allAPIs = {\n  fetchMoviesByName,\n  fetchMostPopular,\n  fetchMovieById,\n  fetchActors,\n  fetchReviews,\n};\nexport default allAPIs;\n","export const transformCastData = data => {\n  return data.map(({ cast_id, name, gender, profile_path }) => ({\n    id: cast_id,\n    name,\n    gender,\n    profile: profile_path,\n  }));\n};\n","export const transformRewievstData = data => {\n  return data.map(({ author, content, updated_at, id }) => ({\n    id,\n    author,\n    updated: updated_at,\n    content,\n  }));\n};\n","export const transformMoviesDataArray = data => {\n  return data.map(({ release_date, title, poster_path, id }) => ({\n    id,\n    title,\n    release: new Date(release_date).getFullYear(),\n    poster: poster_path,\n  }));\n};\n","import slugify from 'slugify';\nexport const setSlug = string => slugify(string, { lower: true });\nexport const getSlug = string => string.match(/[0-9a-zA-Z]+$/)[0];\n"],"names":["ReviewsUl","styled","ReviewsLi","ReviewsH4","ReviewsP","ReviewsSpan","ReviewsH5","ReviewList","reviews","timeReduser","data","slice","map","author","content","updated","id","useState","setReview","isLoading","setIsLoading","isFirstRender","useRef","slug","useParams","movieId","getSlug","useEffect","getReviews","Api","then","error","console","log","current","length","Loader","axios","searchParams","URLSearchParams","api_key","language","fetchMoviesByName","keyWord","page","search","fetchMostPopular","results","transformMoviesDataArray","fetchMovieById","params","append_to_response","fetchActors","cast","actors","transformCastData","fetchReviews","rewievs","transformRewievstData","allAPIs","cast_id","name","gender","profile","profile_path","updated_at","release_date","title","poster_path","release","Date","getFullYear","poster","setSlug","string","slugify","lower","match"],"sourceRoot":""}